# Issue 092625-29: First-Use Smoke Test

**Priority**: High  
**Component**: QA / E2E  
**Beta Blocker**: Yes (gate to first use)  
**Discovered**: 2025-09-26  
**Status**: New  
**Resolved**: 

## Problem Description

Create a scripted, end-to-end validation from clean setup to viewing opportunities in the iOS app, ensuring keys are present and services respond.

## Investigation Areas

1. Script commands for backend setup and fetch  
2. Seed/check environment variables  
3. iOS simulator steps and expected UI  

## Expected Behavior

Running the smoke guide/script verifies backend endpoints return data and the iOS app renders lists with non-empty opportunities.

## Files to Investigate

- `scripts/smoke.sh` (to be added)  
- `docs/runbooks/first_use.md` (to be added)  

## Root Cause Analysis

1. **Primary Cause**: No documented E2E flow.  
2. **Contributing Factors**: Multiple moving parts.  
3. **Why It Happened**: Pre-first-use stage.  

## Solution Implemented

### 1. Smoke Flow (‚è≥ In Progress)
- Add script and runbook to validate env, start backend, hit endpoints, then verify iOS rendering.  

### Code Changes

**File Modified**: `N/A - new script/docs to be added`

**Before**:
```text
No smoke validation.
```

**After**:
```text
scripts/smoke.sh
docs/runbooks/first_use.md
```

## Testing Requirements

### Manual Testing Steps
1. Run smoke script on a clean machine.  
2. Open app and verify lists render.  

### Test Scenarios
- [ ] Missing key detection works  
- [ ] Endpoints return data  

## Status

**Current Status**: Planned  
**Last Updated**: 2025-09-26

### Implementation Checklist
- [ ] Write smoke script  
- [ ] Write runbook  
- [ ] Validate on clean setup  

### Completion Criteria (Ready for User Testing)
- [ ] Script succeeds end to end  
- [ ] Ready for user testing  
- [ ] Any blockers clearly documented  

### User Testing Confirmation
- [ ] User follows runbook and succeeds  
- [ ] User approves moving to done/complete  

## Result

A reliable gate ensuring the product is usable for the first time.

---

## User Confirmation & Actions Required

- Provide required API keys in `.env`.  
- Confirm iOS Simulator/device target to use.  

## Definition of Done (including user confirmations)

- Smoke script and runbook complete.  
- User confirms successful first-use run.
