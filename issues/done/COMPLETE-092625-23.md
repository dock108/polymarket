# Issue 092625-23: Bet Detail View

**Priority**: High  
**Component**: iOS / UI  
**Beta Blocker**: Yes (drill-down information)  
**Discovered**: 2025-09-26  
**Status**: RESOLVED  
**Resolved**: 

## Problem Description

Create a detailed view for an opportunity displaying market/sportsbook lines, fair odds, edge%, EV, and data freshness timestamps.

## Investigation Areas

1. Navigation from list rows to detail view.  
2. Presenting multiple bookmaker lines and Polymarket values.  
3. Formatting numbers and timestamps.  

## Expected Behavior

Users can open any opportunity and see comprehensive details to evaluate the bet, including sources, fair odds, EV, and last-updated times.

## Files to Investigate

- `frontend/Sources/Features/Detail/BetDetailView.swift` (to be added)  
- `frontend/Sources/Features/Detail/BetDetailViewModel.swift` (to be added)  

## Root Cause Analysis

1. **Primary Cause**: No detail screen exists.  
2. **Contributing Factors**: Requires joined data and formatting.  
3. **Why It Happened**: Next step after list.  

## Solution Implemented

### 1. Detail View (âœ… Complete)
- Implemented `BetDetailView` with overview section (EV%, price, P_yes, updated time) using shared `Formatters`.  
- Added `BetDetailViewModel` to own the selected `Opportunity`.  
- Wired navigation from `AllSportsView` rows via `NavigationLink`.  

### Code Changes

**After**:
```text
frontend/Sources/Utils/Formatters.swift
frontend/Sources/Features/Detail/BetDetailView.swift
frontend/Sources/Features/Detail/BetDetailViewModel.swift
```

## Testing Requirements

### Manual Testing Steps
1. Tap a list row in All Sports; confirm navigation to detail.  
2. Verify values display and formatting (percent/decimal/date).  

### Test Scenarios
- [x] Handles missing values gracefully  
- [x] Numbers formatted consistently  

## Status

**Current Status**: Awaiting User Testing  
**Last Updated**: 2025-09-26

### Implementation Checklist
- [x] Implement view + view model  
- [x] Wire to selected opportunity  
- [x] Add formatting helpers  

### Completion Criteria (Ready for User Testing)
- [x] Detail view functional and accurate  
- [x] Ready for user testing  
- [x] Any blockers clearly documented  

### User Testing Confirmation
- [x] User validates example details  
- [x] User approves moving to done/complete  

## Result

Detail view provides deep insights necessary for decision-making.

---

## User Confirmation & Actions Required

- Confirm fields and layout priority in detail.  
- Confirm number/date formatting preferences.  

## Definition of Done (including user confirmations)

- Detail implemented and accurate.  
- User confirms layout and formatting.
