# Issue 092625-15: Public API Endpoints

**Priority**: High  
**Component**: Backend / API  
**Beta Blocker**: Yes (frontend depends on these)  
**Discovered**: 2025-09-26  
**Status**: New  
**Resolved**: 

## Problem Description

Expose REST endpoints for the frontend: `GET /api/opportunities`, `GET /api/odds/{sport}`, and `GET /api/golf`, including pagination and basic filters.

## Investigation Areas

1. Pagination approach (cursor vs page/size).  
2. Filter params (sport, EV threshold, freshness).  
3. Response envelopes and error codes.  

## Expected Behavior

Endpoints return JSON conforming to schemas; errors handled with appropriate status codes; performance acceptable with caching.

## Files to Investigate

- `backend/app/api/routes/*.py` (to be added)  
- `backend/app/schemas/*.py`  

## Root Cause Analysis

1. **Primary Cause**: No public endpoints yet.  
2. **Contributing Factors**: Multiple data shapes and filters.  
3. **Why It Happened**: API follows aggregation implementation.  

## Solution Implemented

### 1. Implement Endpoints (‚è≥ In Progress)
- Add routes for opportunities, odds by sport, and golf.  
- Wire to services and schemas; add query params for filters.  

### Code Changes

**File Modified**: `N/A - new API route files will be added`

**Before**:
```text
No public API.
```

**After**:
```text
backend/app/api/routes/opportunities.py
backend/app/api/routes/odds.py
backend/app/api/routes/golf.py
```

## Testing Requirements

### Manual Testing Steps
1. Call endpoints locally; verify response shapes and pagination.  
2. Exercise filters for EV threshold and sport.  

### Test Scenarios
- [ ] 200/4xx/5xx responses correct  
- [ ] Pagination stable under refresh  

## Status

**Current Status**: Planned  
**Last Updated**: 2025-09-26

### Implementation Checklist
- [ ] Add routes and schemas  
- [ ] Implement pagination/filters  
- [ ] Add basic caching  

### Completion Criteria (Ready for User Testing)
- [ ] Endpoints return expected data  
- [ ] Ready for user testing  
- [ ] Any blockers clearly documented  

### User Testing Confirmation
- [ ] User validates endpoints with sample calls  
- [ ] User approves moving to done/complete  

## Result

Frontend has stable, documented endpoints for opportunities, odds, and golf.

---

## User Confirmation & Actions Required

- Confirm filter parameters and response field names.  
- Confirm pagination style preference.  

## Definition of Done (including user confirmations)

- Endpoints implemented and documented.  
- User confirms API contracts and filters.
