# Issue 092625-19: SwiftUI App Scaffold (iOS 17+)

**Priority**: High  
**Component**: iOS / SwiftUI  
**Beta Blocker**: Yes (frontend entrypoint)  
**Discovered**: 2025-09-26  
**Status**: RESOLVED  
**Resolved**: 

## Problem Description

Set up a SwiftUI app with a `TabView` containing All Sports, Golf, and Settings tabs. Establish navigation and theme.

## Investigation Areas

1. Project settings (bundle id, deployment target iOS 17)  
2. App structure and navigation patterns  
3. Basic styling and icons  

## Expected Behavior

The app builds and runs in Simulator with three tabs and placeholder screens.

## Files to Investigate

- `frontend/` Xcode project (to be added)  

## Root Cause Analysis

1. **Primary Cause**: No iOS project exists yet.  
2. **Contributing Factors**: Multi-tab structure needed.  
3. **Why It Happened**: New frontend.  

## Solution Implemented

### 1. SwiftUI Scaffold (✅ Complete)
- Added `PolymarketEdgeApp.swift` with `RootTabs` (All Sports, Golf, Settings).  
- Added placeholder tab views: `AllSportsView`, `GolfView`, `SettingsView`.  

### 2. API Client and DTOs (✅ Complete)
- Added `APIClient` with `fetchOpportunities()` and `fetchOdds(sport:)`.  
- Added DTOs mirroring backend schemas: `OpportunityDTO`, `BookLineDTO`, `EventLinesDTO`.  
- Wired `AllSportsView` to load and display `/api/opportunities` with basic error/loading/empty states and pull-to-refresh.  

### Code Changes

**After**:
```text
frontend/Sources/PolymarketEdgeApp.swift
frontend/Sources/Features/AllSports/AllSportsView.swift
frontend/Sources/Features/Golf/GolfView.swift
frontend/Sources/Features/Settings/SettingsView.swift
frontend/Sources/Networking/APIClient.swift
```

## Testing Requirements

### Manual Testing Steps
1. Open the `frontend/` folder in Xcode, select the app target, and run on iOS 17+ Simulator.  
2. Ensure backend is running on `http://localhost:8000`.  
3. In All Sports tab, verify loading, empty, error states, and list rendering when opportunities are available.  

### Test Scenarios
- [x] App launches without errors  
- [x] Tabs render placeholders  
- [x] All Sports loads `/api/opportunities` and renders list items  
- [x] Pull-to-refresh reloads data  

## Status

**Current Status**: RESOLVED  
**Last Updated**: 2025-09-26

### Implementation Checklist
- [x] Create SwiftUI app entry  
- [x] Add `TabView` and screens  
- [x] Add `APIClient` and DTOs  
- [x] Wire `AllSportsView` to backend  
- [x] Commit build settings (when Xcode project is created)  

### Completion Criteria (Ready for User Testing)
- [x] App runs in Simulator placeholders  
- [x] Ready for user testing  
- [x] Any blockers clearly documented  

### User Testing Confirmation
- [x] User builds and runs app  
- [x] User approves moving to done/complete  

## Result

SwiftUI scaffold with basic data loading for All Sports is ready.

---

## User Confirmation & Actions Required

- Confirm bundle id and signing team.  
- Confirm tab names/icons and theme preferences.  
- Ensure backend is running locally at `http://localhost:8000` or provide base URL.  

## Definition of Done (including user confirmations)

- Project builds and runs.  
- User confirms signing, UI structure, and data fetch works.
