# Issue 092625-12: DataGolfService – Schedule + Pre-Tournament Predictions

**Priority**: High  
**Component**: Backend / DataGolf Integration  
**Beta Blocker**: Yes (golf tab requires DG data)  
**Discovered**: 2025-09-26  
**Status**: Awaiting User Testing  
**Resolved**: 

## Problem Description

Integrate DataGolf API to retrieve upcoming tournament schedules and pre-tournament win probabilities for players.

## Investigation Areas

1. Endpoints: schedule and `preds/pre-tournament`.  
2. API key handling and quotas.  
3. Mapping players/events to market references.  

## Expected Behavior

Service returns structured tournament and player win probabilities suitable for joining to sportsbook/Polymarket and EV computation.

## Files to Investigate

- `backend/app/services/datagolf.py`  
- `backend/app/schemas/datagolf.py`  

## Root Cause Analysis

1. **Primary Cause**: No DataGolf integration implemented.  
2. **Contributing Factors**: Keyed access and data model mapping.  
3. **Why It Happened**: Early integration stage.  

## Solution Implemented

### 1. Fetch and Normalize (✅ Complete)
- Retrieve schedule and pre-tournament predictions.  
- Normalize player names/ids and win probabilities.  

### Code Changes

**File Modified**: `N/A - new service and schemas will be added`

**Before**:
```text
No DataGolf integration.
```

**After**:
```text
backend/app/services/datagolf.py
backend/app/schemas/datagolf.py
```

## Testing Requirements

### Manual Testing Steps
1. Run `python -m app.services.datagolf` with `DATAGOLF_API_KEY` set; verify schedule and preds load.  
2. Spot-check values match DG dashboard (approx).  

### Test Scenarios
- [ ] Valid response when schedule has multiple events  
- [ ] Handles missing players/fields gracefully  

## Status

**Current Status**: Awaiting User Testing  
**Last Updated**: 2025-09-26

### Implementation Checklist
- [x] Implement authenticated DG client  
- [x] Normalize schedule and predictions  
- [ ] Log requests/responses  

### Completion Criteria (Ready for User Testing)
- [x] Returns normalized DG data  
- [x] Ready for user testing  
- [x] Any blockers clearly documented  

### User Testing Confirmation
- [ ] User verifies DG data appears in Golf tab later  
- [ ] User approves moving to done/complete  

## Result

DG service provides schedules and win probabilities suitable for downstream EV checks.

---

## User Confirmation & Actions Required

- Provide DataGolf API key in `.env`.  
- Confirm target tours/events to include.  

## Definition of Done (including user confirmations)

- DG client implemented and returns normalized data.  
- User confirms tours/events scope.  
