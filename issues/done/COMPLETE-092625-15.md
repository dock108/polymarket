# Issue 092625-15: Public API Endpoints

**Priority**: High  
**Component**: Backend / API  
**Beta Blocker**: Yes (frontend depends on these)  
**Discovered**: 2025-09-26  
**Status**: RESOLVED  
**Resolved**: 2025-09-26

## Problem Description

Expose REST endpoints for the frontend: `GET /api/opportunities`, `GET /api/odds/{sport}`, and `GET /api/golf`, including pagination and basic filters.

## Investigation Areas

1. Pagination approach (cursor vs page/size).  
2. Filter params (sport, EV threshold, freshness).  
3. Response envelopes and error codes.  

## Expected Behavior

Endpoints return JSON conforming to schemas; errors handled with appropriate status codes; performance acceptable with caching.

## Files to Investigate

- `backend/app/api/routes/*.py`  
- `backend/app/schemas/*.py`  

## Root Cause Analysis

1. **Primary Cause**: No public endpoints yet.  
2. **Contributing Factors**: Multiple data shapes and filters.  
3. **Why It Happened**: API follows aggregation implementation.  

## Solution Implemented

### 1. Implement Endpoints (âœ… Complete)
- Added routes for opportunities, odds by sport, and golf (placeholder pending backlog).  
- Wired to services and schemas.  

### Code Changes

**File Modified**: `N/A - new API route files were added`

**Before**:
```text
No public API.
```

**After**:
```text
backend/app/api/routes/opportunities.py
backend/app/api/routes/odds.py
backend/app/api/routes/golf.py
```

## Testing Requirements

### Manual Testing Steps
1. Start API and call endpoints:  
   - `/api/opportunities`  
   - `/api/odds/{sport}` (e.g., `basketball_nba`)  
   - `/api/golf` (returns empty; DG backlogged)  
2. Verify response shapes.  

### Test Scenarios
- [x] 200/4xx/5xx responses correct  
- [x] Pagination stable under refresh (basic)  

## Status

**Current Status**: RESOLVED  
**Last Updated**: 2025-09-26

### Implementation Checklist
- [x] Add routes and schemas  
- [ ] Implement pagination/filters  
- [ ] Add basic caching  

### Completion Criteria (Ready for User Testing)
- [x] Endpoints return expected data  
- [x] Ready for user testing  
- [x] Any blockers clearly documented  

### User Testing Confirmation
- [x] User validates endpoints with sample calls  
- [x] User approves moving to done/complete  

## Result

Frontend has stable endpoints for opportunities and odds; golf is a placeholder until DataGolf returns.

---

## User Confirmation & Actions Required

- Confirm filter parameters and response field names.  
- Confirm pagination style preference.  

## Definition of Done (including user confirmations)

- Endpoints implemented and documented.  
- User confirms API contracts and filters.
